---
title: "assignment_5"
author: "Iris"
date: "November 7, 2014"
output: html_document
---
death probabilities

```{r, eval=TRUE}
delta.c <- 1/3
delta.r <- 10/32
tau <- 3/4
delta.s0 <- 1/4
delta.s <- delta.s0 + tau*fc
```

 put out initial outlay - start at equal abundances (from Fig.1 line graphs)
 
 0 = empty
 1=C
 2=R
 3=S
 
```{r}
possible.states <- c(0, 1, 2, 3)

states <- sample(possible.states, 250*250, replace=TRUE)

rpsmat <- matrix(states, nrow=250, ncol=250)

colnames(rpsmat) <- paste("c", 1:250, sep="")
rownames(rpsmat) <- paste("r", 1:250, sep="")
```

do one generation of updates - update matrix and frequencies of each cell type
global
```{r, eval=TRUE}
fc <- sum(rpsmat==1)/(nrow(rpsmat)*ncol(rpsmat))
fr <- sum(rpsmat==2)/(nrow(rpsmat)*ncol(rpsmat))
fs <- sum(rpsmat==3)/(nrow(rpsmat)*ncol(rpsmat))
```

local - ID point, then get the frequencies
assume that the updating for an empty cell depends on the absolute frequency of the other cells - not their relative frequencies
```{r}
column <- sample(1:250, 1)
row <- sample(1:250, 1)

focal <- 2
  #rpsmat[row, column]

if(focal==0){
  rpsmat[row,column] = sample(c(1,2,3), 1, prob=c(fc, fr, fs))
  } else if(focal==1) {
    rpsmat[row, column] = sample(c(0,1), 1, prob=c(delta.c, 1-delta.c))
     } else if(focal==2){
       rpsmat[row, column] = sample(c(0,2), 1, prob=c(delta.s, 1-delta.s))
       } else if (focal==3) rpsmat[row, column] = sample(c(0,3), 1, prob=c(delta.r, 1-delta.r))
                                      
```

for loop for updating

save frequencies at each generation

 figure out how to save matricies every N generations (in a list?)

 work with neighborhood sizes 


